angular.module("sfObibaCountriesUiSelectTemplates",[]).run(["$templateCache",function(e){e.put("src/templates/sf-obiba-countries-ui-select.html",'<div\n  ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"\n  ng-controller="sfObibaCountriesUiSelectController"\n  schema-validate="form" sf-field-model>\n  <form-ui-select ng-if="locales && locales.length > 1"\n                  title="form.title"\n                  show-title="!form.notitle"\n                  disabled="form.readonly"\n                  items="data[selectedLocale]"\n                  auto-complete="form.autoComplete"\n                  ng-model-options="{ allowInvalid: true }"\n                  sf-field-model="replaceAll"\n                  model="$$value$$"\n                  multiple="form.multiple"\n                  description="form.description"></form-ui-select>\n</div>\n')}]),angular.module("sfObibaCountriesUiSelect",["schemaForm","ui.select","ngObiba","sfObibaCountriesUiSelectTemplates"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider",function(e,o,t,l){var a=function(o,t,a){if("array"===t.type&&"obibaCountriesUiSelect"===t.format){var r=e.stdFormObj(o,t,a);return r.key=a.path,r.type="obibaCountriesUiSelect",r.multiple="multiple",r.autoComplete={format:":label [:value]",value:"code",label:"name"},a.lookup[l.stringify(a.path)]=r,r}};e.defaults.array.unshift(a);var a=function(o,t,a){if("string"===t.type&&"obibaCountriesUiSelect"===t.format){var r=e.stdFormObj(o,t,a);return r.key=a.path,r.type="obibaCountriesUiSelect",r.autoComplete={format:":label [:value]",value:"code",label:"name"},a.lookup[l.stringify(a.path)]=r,r}};e.defaults.string.unshift(a),o.defineAddOn("bootstrapDecorator","obibaCountriesUiSelect","src/templates/sf-obiba-countries-ui-select.html",t.stdBuilders)}]).controller("sfObibaCountriesUiSelectController",["$scope",function(e){e.data=OBiBa.CountryCodes,e.locales=e.data?Object.keys(e.data):[],e.$watch("ngModel.$modelValue",function(){e.ngModel.$validate?(e.ngModel.$validate(),e.ngModel.$invalid&&(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1)):e.ngModel.$setViewValue(ngModel.$viewValue)},!0),e.$watch("form",function(){e.form&&(e.form.disableErrorState=e.form.hasOwnProperty("readonly")&&e.form.readonly,e.selectedLocale=e.form.locales&&e.form.locales.length>0?e.form.locales[0]:"en")}),e.$on("sfLocalizedStringLocaleChanged",function(o,t){e.selectedLocale=t})}]);